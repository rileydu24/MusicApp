{"level":"debug","message":"Authenticating against the database...","timestamp":"2016-12-03T20:28:54.305Z"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","timestamp":"2016-12-03T20:28:54.478Z"}
{"level":"debug","message":"Authentication succeeded. Starting the server...","timestamp":"2016-12-03T20:28:54.483Z"}
{"level":"debug","message":"Express server listening on port 3333","timestamp":"2016-12-03T20:28:58.165Z"}
{"error":{"name":"UnauthorizedError","status":401,"message":"Unauthorized"},"stack":"UnauthorizedError: Unauthorized\n    at exports.ensureAdmin (/Users/sofiannebattikh/Desktop/bchacks/server/controllers/auth.js:32:10)\n    at Layer.handle [as handle_request] (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/layer.js:95:5)\n    at next (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/route.js:131:13)\n    at Route.dispatch (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/route.js:112:3)\n    at Layer.handle [as handle_request] (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/layer.js:95:5)\n    at /Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:277:22\n    at Function.process_params (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:330:12)\n    at next (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:271:10)\n    at /Users/sofiannebattikh/Desktop/bchacks/server/app.js:131:5\n    at Layer.handle [as handle_request] (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:312:13)\n    at /Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:280:7\n    at Function.process_params (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:330:12)\n    at next (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:271:10)\n    at /Users/sofiannebattikh/Desktop/bchacks/server/app.js:97:5\n    at Layer.handle [as handle_request] (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/layer.js:95:5)\n    at trim_prefix (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:312:13)\n    at /Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:280:7\n    at Function.process_params (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:330:12)\n    at next (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/express/lib/router/index.js:271:10)\n    at SessionStrategy.strategy.pass (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/passport/lib/middleware/authenticate.js:325:9)\n    at SessionStrategy.authenticate (/Users/sofiannebattikh/Desktop/bchacks/server/node_modules/passport/lib/strategies/session.js:71:10)","level":"error","message":"Request cannot complete","timestamp":"2016-12-03T20:29:28.257Z"}
{"level":"info","message":"\u001b[0mGET /api/users \u001b[33m401 \u001b[0m30.737 ms - 39\u001b[0m\n","timestamp":"2016-12-03T20:29:28.282Z"}
{"level":"debug","message":"Authenticating against the database...","timestamp":"2016-12-03T20:30:45.008Z"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","timestamp":"2016-12-03T20:30:45.179Z"}
{"level":"debug","message":"Authentication succeeded. Starting the server...","timestamp":"2016-12-03T20:30:45.183Z"}
{"level":"debug","message":"Express server listening on port 3333","timestamp":"2016-12-03T20:30:48.870Z"}
{"level":"debug","message":"Executing (default): SELECT count(`user`.`id`) AS `count` FROM `users` AS `user` LEFT OUTER JOIN `memberships` AS `memberships` ON `user`.`id` = `memberships`.`userId` LEFT OUTER JOIN `wwoofers` AS `wwoofer` ON `user`.`id` = `wwoofer`.`userId` LEFT OUTER JOIN `hosts` AS `host` ON `user`.`id` = `host`.`userId` WHERE (`user`.`isSuspended` = false);","timestamp":"2016-12-03T20:30:55.465Z"}
{"level":"debug","message":"Executing (default): SELECT `user`.*, `memberships`.`id` AS `memberships.id`, `wwoofer`.`id` AS `wwoofer.id`, `host`.`id` AS `host.id` FROM (SELECT `user`.`id`, `user`.`email`, `user`.`firstName`, `user`.`lastName`, `user`.`birthDate`, `user`.`phone`, `user`.`photo`, `user`.`isAdmin`, `user`.`isSuspended`, `user`.`locale`, `user`.`createdAt`, `user`.`updatedAt` FROM `users` AS `user` WHERE (`user`.`isSuspended` = false) ORDER BY `user`.`createdAt` DESC LIMIT 0, 20) AS `user` LEFT OUTER JOIN `memberships` AS `memberships` ON `user`.`id` = `memberships`.`userId` LEFT OUTER JOIN `wwoofers` AS `wwoofer` ON `user`.`id` = `wwoofer`.`userId` LEFT OUTER JOIN `hosts` AS `host` ON `user`.`id` = `host`.`userId` ORDER BY `user`.`createdAt` DESC;","timestamp":"2016-12-03T20:30:56.512Z"}
{"level":"info","message":"\u001b[0mGET /api/users \u001b[32m200 \u001b[0m1162.747 ms - 6084\u001b[0m\n","timestamp":"2016-12-03T20:30:56.586Z"}
{"level":"debug","message":"Authenticating against the database...","timestamp":"2016-12-03T20:40:01.003Z"}
{"level":"debug","message":"Executing (default): SELECT 1+1 AS result","timestamp":"2016-12-03T20:40:01.170Z"}
{"level":"debug","message":"Authentication succeeded. Starting the server...","timestamp":"2016-12-03T20:40:01.173Z"}
{"level":"debug","message":"Express server listening on port 3333","timestamp":"2016-12-03T20:40:04.867Z"}
